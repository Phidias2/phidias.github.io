"use strict";(self["webpackChunkpostit"]=self["webpackChunkpostit"]||[]).push([[899],{2899:function(t,e,s){s.r(e),s.d(e,{default:function(){return P}});var n=s(3396),o=s(7139);const l=(0,n._)("link",{href:"https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css",rel:"stylesheet"},null,-1),i={class:"container bootstrap snippets bootdey"},a={class:"row"},r=(0,n._)("a",{href:"/add"},[(0,n._)("span",{id:"post"},"Post "),(0,n._)("i",{class:"fa fa-plus-square"})],-1);function c(t,e,s,c,d,u){const h=(0,n.up)("ChildComponent");return(0,n.wg)(),(0,n.iD)(n.HY,null,[l,(0,n._)("div",i,[(0,n._)("h2",null,"Total : "+(0,o.zw)(Object.keys(t.notes).length),1),(0,n._)("div",a,[r,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.notes.reverse(),(t=>((0,n.wg)(),(0,n.iD)("ul",{key:t.id,class:"notes"},[(0,n.Wm)(h,{title:t.title,content:t.content[0],id:t._id},null,8,["title","content","id"])])))),128))])])],64)}var d=s(65);const u={class:"lazur-bg div"},h=(0,n._)("i",{class:"fa fa-arrow-right"},null,-1),p=(0,n._)("i",{class:"fa fa-pencil"},null,-1),f=(0,n._)("i",{class:"fa fa-trash-o"},null,-1);function m(t,e,s,l,i,a){const r=(0,n.up)("RouterLink");return(0,n.wg)(),(0,n.iD)("li",null,[(0,n._)("div",u,[(0,n._)("h4",null,(0,o.zw)(a.truncateText(s.title,20)),1),(0,n._)("p",null,(0,o.zw)(a.truncateText(s.content,140)),1),(0,n.Wm)(r,{to:"/note/"+s.id,class:"pull-right"},{default:(0,n.w5)((()=>[h])),_:1},8,["to"]),(0,n.Wm)(r,{to:"/edit/"+s.id,class:"pull-center"},{default:(0,n.w5)((()=>[p])),_:1},8,["to"]),(0,n.Wm)(r,{to:"",onClick:e[0]||(e[0]=t=>a.deleteNoteById({id:s.id})),class:"pull-left"},{default:(0,n.w5)((()=>[f])),_:1})])])}var g={props:{title:String,content:String,id:String},methods:{truncateText(t,e){return t.length>e?t.slice(0,e)+"...":t},...(0,d.nv)(["deleteNote"]),deleteNoteById(t){this.deleteNote(t.id)},async deleteData(t){try{const e=await fetch("https://post-it-7m1i.onrender.com/notes/"+t.id,{method:"DELETE",headers:{"Content-Type":"application/json"}}),s=await e.json();return s}catch(e){console.error(e)}}}},w=s(89);const _=(0,w.Z)(g,[["render",m]]);var v=_,k={components:{ChildComponent:v},data(){return{postIts:{},itemsPerPage:20,currentPage:1}},computed:{...(0,d.Se)(["notes"]),displayedItems(){const t=(this.currentPage-1)*this.itemsPerPage,e=t+this.itemsPerPage;return this.notes.slice(t,e)}},methods:{...(0,d.nv)(["fetchNotes"]),getNotes(){this.postIts=this.fetchNotes()},pageClickHandler(t){this.currentPage=t}},created(){this.getNotes()},mounted(){setInterval((()=>{this.getNotes()}),3e4)}};const y=(0,w.Z)(k,[["render",c]]);var P=y}}]);
//# sourceMappingURL=899.b1fee45d.js.map